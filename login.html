<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lenovox-ai Login</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }

body {
  background: url("https://i.postimg.cc/Kzgn3bSk/9Um-WCbyxp-Ka-EGXjw-FG7d-Xo.jpg")
              no-repeat center center fixed;
  background-size: cover;
  height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

.login-container {
  width:350px;
  padding:40px 30px;
  border-radius:18px;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  text-align:center;
  color:white;
}

h2 {
  font-size:36px;
  margin-bottom:25px;
  text-shadow:0 2px 8px rgba(0,0,0,0.6);
}

input {
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border:none;
  border-radius:12px;
  background: rgba(255,255,255,0.25);
  color:white;
  font-size:16px;
}

input::placeholder { color:#eee; }

button {
  width:100%;
  padding:14px;
  margin-top:10px;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  font-weight:bold;
}

#loginBtn {
  background:#1877f2;
  color:white;
}

#loginBtn:hover { background:#105bb5; }

#googleLoginBtn {
  background:white;
  color:#444;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

.forgot {
  margin-top:12px;
  font-size:14px;
  text-decoration:underline;
  cursor:pointer;
}

p {
  margin-top:16px;
  font-size:14px;
}

p a {
  color:#4da3ff;
  font-weight:bold;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="login-container">
  <h2>Lenovox-ai</h2>

  <input id="loginEmail" type="email" placeholder="Email">
  <input id="loginPassword" type="password" placeholder="Password">

  <button id="loginBtn">Login</button>

  <button id="googleLoginBtn">
    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="18">
    Continue with Google
  </button>

  <div class="forgot" id="forgotBtn">Forgot password?</div>

  <p>Donâ€™t have an account?
    <a href="signup.html">Sign up</a>
  </p>
</div>

<!-- AUTH LOGIC -->
<script type="module">
  import {
    loginUser,
    googleLoginUser,
    resetPassword
  } from "./auth.js";

  const emailInput = document.getElementById("loginEmail");
  const passwordInput = document.getElementById("loginPassword");

  document.getElementById("loginBtn").addEventListener("click", async () => {
    if (!emailInput.value || !passwordInput.value) {
      alert("Enter email and password");
      return;
    }

    try {
      const result = await loginUser({
        email: emailInput.value,
        password: passwordInput.value
      });

      console.log("Logged in UID:", result.user.uid);
      window.location.href = "appskeleton.html
        ";
    } catch (err) {
      alert(err.message);
    }
  });

  document.getElementById("googleLoginBtn").addEventListener("click", async () => {
    try {
      const result = await googleLoginUser();
      console.log("Google UID:", result.user.uid);
      window.location.href = "lenovox-app-skeleton.html";
    } catch (err) {
      alert(err.message);
    }
  });

  document.getElementById("forgotBtn").addEventListener("click", async () => {
    const email = prompt("Enter your email:");
    if (!email) return;

    try {
      await resetPassword(email);
      alert("Password reset email sent ðŸ“©");
    } catch (err) {
      alert(err.message);
    }
  });
</script>

</body>
</html>
